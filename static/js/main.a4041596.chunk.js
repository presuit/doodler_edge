(this["webpackJsonpreact-doodler"]=this["webpackJsonpreact-doodler"]||[]).push([[0],{39:function(e,t,n){e.exports=n(59)},59:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(29),l=n.n(o),c=n(8),i=n(15);n(52),n(53);i.initializeApp({apiKey:"AIzaSyAdyuCpQXNUY1_DWMJF7YlZINrKVNXEx_o",authDomain:"doddle-edge.firebaseapp.com",databaseURL:"https://doddle-edge.firebaseio.com",projectId:"doddle-edge",storageBucket:"doddle-edge.appspot.com",messagingSenderId:"479833056969",appId:"1:479833056969:web:dd93af468094d32e744f18"});var u=i.firestore(),s=i.auth(),d=i,f=n(37),p=n(3),m=n(11),h=n.n(m),v=n(18),b=n(30),g=n(31);function x(){var e=Object(g.a)(["\n    width: 400px;\n    height: 600px;\n    background-color: yellow;\n    position: relative;\n    font-size: 200px;\n    text-align: center;\n    .doodler {\n        width: 80px;\n        height: 80px;\n        background-color: black;\n        color: white;\n        position: absolute;\n        border-radius: 50%;\n        font-size: 20px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        border: none;\n        box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n    }\n\n    .platform {\n        width: 85px;\n        height: 15px;\n        background-color: green;\n        position: absolute;\n    }\n"]);return x=function(){return e},e}var E=n(32).a.div(x()),y=function(){var e=Object(r.useState)(0),t=Object(c.a)(e,2),n=t[0],o=t[1],l=function(){var e,t,n,r,a=document.querySelector(".grid"),l=document.createElement("div"),c=50,u=150,s=u,d=!1,f=[],p=!0,m=!1,h=!1,v=0,g="";var x=function e(t){Object(b.a)(this,e),this.bottom=t,this.left=315*Math.random(),this.visual=document.createElement("div");var n=this.visual;n.classList.add("platform"),n.style.left=this.left+"px",n.style.bottom=this.bottom+"px",a.appendChild(n)};function E(){s>200&&f.forEach((function(e){if(e.bottom-=4,e.visual.style.bottom=e.bottom+"px",e.bottom<10){f[0].visual.classList.remove("platform"),f.shift(),v++,o(v),console.log(f);var t=new x(600);f.push(t)}}))}function y(){clearInterval(t),p=!0,e=setInterval((function(){s+=20,l.style.bottom=s+"px",s>350&&(clearInterval(e),p=!1,t=setInterval((function(){s-=5,l.style.bottom=s+"px",s<=0&&function(){for(console.log("Game Over!"),d=!0;a.firstChild;)a.removeChild(a.firstChild);a.innerHTML=v,o(v),i(v),clearInterval(e),clearInterval(t),clearInterval(n),clearInterval(r)}(),f.forEach((function(e){s>=e.bottom&&s<=e.bottom+15&&c+60>=e.left&&c<=e.left+85&&!p&&(console.log("landed"),u=c,y())}))}),20))}),30)}function w(e){if(!1===d)if("ArrowLeft"===e.key){if("ArrowLeft"===g)return;!function(){h&&(clearInterval(r),h=!1);m=!0,n=setInterval((function(){c>=0?(c-=5,l.style.left=Math.floor(c)+"px"):l.style.left="0px"}),20)}(),g="ArrowLeft"}else if("ArrowRight"===e.key){if("ArrowRight"===g)return;!function(){m&&(clearInterval(n),m=!1);h=!0,r=setInterval((function(){c<=340?(c+=5,l.style.left=Math.floor(c)+"px"):l.style.left="340px"}),20)}(),g="ArrowRight"}else if("ArrowUp"===e.key){if("ArrowUp"===g)return;h=!1,m=!1,clearInterval(r),clearInterval(n),g="ArrowUp"}console.log(g)}d||(function(){for(var e=0;e<5;e++){var t=new x(100+120*e);f.push(t),console.log(f)}}(),a.appendChild(l),l.classList.add("doodler"),l.innerText="(\xb4\u25e1`)",c=f[0].left,l.style.left=c+"px",l.style.bottom=s+"px",setInterval(E,15),y(),document.addEventListener("keydown",w))},i=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.collection("scores").add({userId:s.currentUser.uid,score:t,createdAt:Date.now()});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){l()}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(E,{className:"grid"}),a.a.createElement("h3",null,"Score: ",n))},w=n(38),I=n(36),j=function(){var e=Object(r.useState)(s.currentUser),t=Object(c.a)(e,2),n=t[0],o=(t[1],Object(r.useState)(0)),l=Object(c.a)(o,2),i=l[0],d=l[1],f=[];return Object(r.useEffect)((function(){u.collection("scores").onSnapshot((function(e){!function(e){var t,r=Object(I.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.userId===n.uid&&f.push(a)}}catch(o){r.e(o)}finally{r.f()}f.sort((function(e,t){return t.score-e.score})),d(f[0].score)}(e.docs.map((function(e){return Object(w.a)({},e.data())})))}))}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("h3",null,n.displayName),a.a.createElement("h3",null,n.email),a.a.createElement("h3",null,"\ub098\uc758 \ucd5c\uace0 \uc810\uc218: ",i," ")))},O=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(y,null),a.a.createElement(j,null))},k=function(){var e=function(){var e=Object(v.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new d.auth.GoogleAuthProvider,e.prev=1,e.next=4,s.signInWithPopup(t);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),e.t0;case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Please Login First and enjoy our DoodleMoji (\u2741\xb4\u25e1`\u2741)"),a.a.createElement("button",{onClick:e},"Log In With Google (\u2741\xb4\u25e1`\u2741)"))},A=function(e){var t=e.isLoggedIn;return a.a.createElement(f.a,null,t?a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,{path:"/",exact:!0},a.a.createElement(O,null))):a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,{path:"/"},a.a.createElement(k,null))))};var L=function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],o=t[1],l=Object(r.useState)(!1),i=Object(c.a)(l,2),u=i[0],d=i[1];return Object(r.useEffect)((function(){s.onAuthStateChanged((function(e){e&&o(!0),d(!0)}))}),[]),a.a.createElement(a.a.Fragment,null,u?a.a.createElement(A,{isLoggedIn:n}):"Loading....")};l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(L,null)),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.a4041596.chunk.js.map